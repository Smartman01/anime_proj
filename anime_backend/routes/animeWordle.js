const express = require('express')
const router = express.Router()

const Fuse = require('fuse.js')

const Character = require('../models/character')
const Anime = require('../models/anime')
const DayIndex = require('../models/dayindex')

const options = { keys : [ "name" ], threshold: 0.4 };

// check character search
router.get('/searchcharacter/:name', async (req, res) =>
{
    try
    {
        const characters = await Character.find()
        const fuse = new Fuse(characters, options);
        res.json(fuse.search(req.params.name))
    }
    catch (err)
    {
        res.status(500).json({ messsage: err.messsage })
    }
})

// check character guess
router.get('/guesscharacter/:name', async (req, res) =>
{
    try
    {
        const dayindex = await DayIndex.find()
        const character = await Character.find()

        const isCorrect = req.params.name === character[dayindex[0].index_character].name;

        res.json({ 
            guessCorrect: isCorrect,
            character: isCorrect ? character[dayindex[0].index_character] : null
        })
    }
    catch (err)
    {
        res.status(500).json({ messsage: err.messsage })
    }
})

// check anime search
router.get('/searchanime/:name', async (req, res) =>
{
    try
    {
        const animes = await Anime.find()
        const fuse = new Fuse(animes, options);
        res.json(fuse.search(req.params.name))
    }
    catch (err)
    {
        res.status(500).json({ messsage: err.messsage })
    }
})

// check anime guess
router.get('/guessanime/:name', async (req, res) =>
{
    try
    {
        const dayindex = await DayIndex.find()
        const anime = await Anime.find()

        res.json({ guessCorrect: req.params.name === anime[dayindex[0].index_anime].name })
    }
    catch (err)
    {
        res.status(500).json({ messsage: err.messsage })
    }
})

router.get('/oftheday/:category', async (req, res) =>
{
    try
    {
        const dayindex = await DayIndex.find()

        if (req.params.category === "anime")
        {
            const anime = await Anime.find()
            
            res.json({ characteristics: anime[dayindex[0].index_anime].characteristics })
        }
        else
        {
            const character = await Character.find()
            
            res.json({ characteristics: character[[dayindex[0].index_character]].characteristics })
        }
    }
    catch (err)
    {
        res.status(500).json({ messsage: err.messsage })
    }
})

router.put('/update', (res, req) =>
{
    let myquery = {image: "https://cdn.anime-planet.com/characters/primary/l-death-note-1-190x266.jpg?t=1625965725"}
    let newvalues = {image: "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"}
    Character.updateOne(myquery, newvalues, (err, result) =>
    {
        if (err) res.send(err);
        else res.json(result);
    })
})

module.exports = router